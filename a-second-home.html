<!DOCTYPE html><html lang="en-us"><head><meta charset="utf-8"><meta http-equiv="X-UA-Compatible" content="IE=edge"><meta name="viewport" content="width=device-width,initial-scale=1,user-scalable=no"><title>A Second Home - Welcome to Bloggy Skies</title><meta name="description" content="2020. I was a sophomore in high school when the pandemic hit us. My friends and I initially were so excited to be&hellip;"><meta name="generator" content="Publii Open-Source CMS for Static Site"><link rel="canonical" href="https://TheCloutySkies.github.io/bloggyskies/a-second-home.html"><link rel="alternate" type="application/atom+xml" href="https://TheCloutySkies.github.io/bloggyskies/feed.xml" title="Welcome to Bloggy Skies - RSS"><link rel="alternate" type="application/json" href="https://TheCloutySkies.github.io/bloggyskies/feed.json" title="Welcome to Bloggy Skies - JSON"><meta property="og:title" content="A Second Home"><meta property="og:image" content="https://TheCloutySkies.github.io/bloggyskies/media/posts/2/IMG_0793.jpeg"><meta property="og:image:width" content="6000"><meta property="og:image:height" content="4000"><meta property="og:site_name" content="Welcome to Bloggy Skies"><meta property="og:description" content="2020. I was a sophomore in high school when the pandemic hit us. My friends and I initially were so excited to be&hellip;"><meta property="og:url" content="https://TheCloutySkies.github.io/bloggyskies/a-second-home.html"><meta property="og:type" content="article"><link rel="stylesheet" href="https://TheCloutySkies.github.io/bloggyskies/assets/css/fontawesome-all.min.css?v=85514f933f9e0b82460af63f1a403fa5"><link rel="stylesheet" href="https://TheCloutySkies.github.io/bloggyskies/assets/css/style.css?v=d8fd87f4cd77ac17938bea5374edf33b"><noscript><link rel="stylesheet" href="https://TheCloutySkies.github.io/bloggyskies/assets/css/noscript.css?v=efa867a99f5064d6729e4dc2008ad50b"></noscript><script type="application/ld+json">{"@context":"http://schema.org","@type":"Article","mainEntityOfPage":{"@type":"WebPage","@id":"https://TheCloutySkies.github.io/bloggyskies/a-second-home.html"},"headline":"A Second Home","datePublished":"2026-01-17T23:45-08:00","dateModified":"2026-01-20T23:32-08:00","image":{"@type":"ImageObject","url":"https://TheCloutySkies.github.io/bloggyskies/media/posts/2/IMG_0793.jpeg","height":4000,"width":6000},"description":"2020. I was a sophomore in high school when the pandemic hit us. My friends and I initially were so excited to be&hellip;","author":{"@type":"Person","name":"Lonnie Johnston","url":"https://TheCloutySkies.github.io/bloggyskies/authors/lonnie-johnston/"},"publisher":{"@type":"Organization","name":"Lonnie Johnston","logo":{"@type":"ImageObject","url":"https://TheCloutySkies.github.io/bloggyskies/media/website/4DA1D785-6839-416F-9479-A13BFF6B2103.png","height":1170,"width":1170}}}</script><style>#wrapper > .bg {
               background-image: url(https://TheCloutySkies.github.io/bloggyskies/assets/images/overlay.png), linear-gradient(0deg, rgba(0, 0, 0, 0.1), rgba(0, 0, 0, 0.1)), url(https://TheCloutySkies.github.io/bloggyskies/media/website/DSC_0697-2.JPG);
           }</style><noscript><style>img[loading] {
                    opacity: 1;
                }</style></noscript></head><body class="is-preload post-template"><div id="wrapper"><header id="header"><a class="logo logo-image" href="https://TheCloutySkies.github.io/bloggyskies/"><img src="https://TheCloutySkies.github.io/bloggyskies/media/website/4DA1D785-6839-416F-9479-A13BFF6B2103.png" alt="Welcome to Bloggy Skies" width="1170" height="1170"></a></header><main id="main"><article class="post"><header class="major"><time datetime="2026-01-17T23:45" class="date">January 17, 2026</time><h1>A Second Home</h1><p class="post__inner"></p></header><figure class="image main"><img src="https://TheCloutySkies.github.io/bloggyskies/media/posts/2/IMG_0793.jpeg" srcset="https://TheCloutySkies.github.io/bloggyskies/media/posts/2/responsive/IMG_0793-xs.jpeg 300w, https://TheCloutySkies.github.io/bloggyskies/media/posts/2/responsive/IMG_0793-sm.jpeg 480w, https://TheCloutySkies.github.io/bloggyskies/media/posts/2/responsive/IMG_0793-md.jpeg 768w, https://TheCloutySkies.github.io/bloggyskies/media/posts/2/responsive/IMG_0793-lg.jpeg 1024w, https://TheCloutySkies.github.io/bloggyskies/media/posts/2/responsive/IMG_0793-xl.jpeg 1360w" sizes="(max-width: 1360px) 100vw, 1360px" loading="lazy" height="4000" width="6000" alt=""></figure><div class="post__inner post__entry"><figure class="post__image post__image--full"><img loading="lazy" src="https://TheCloutySkies.github.io/bloggyskies/media/posts/2/20220915_200018_44DF1F.jpeg" alt="The Outpost, 2023. The Glory Days" width="2048" height="1366" sizes="(max-width: 48em) 100vw, 768px" srcset="https://TheCloutySkies.github.io/bloggyskies/media/posts/2/responsive/20220915_200018_44DF1F-xs.jpeg 300w, https://TheCloutySkies.github.io/bloggyskies/media/posts/2/responsive/20220915_200018_44DF1F-sm.jpeg 480w, https://TheCloutySkies.github.io/bloggyskies/media/posts/2/responsive/20220915_200018_44DF1F-md.jpeg 768w, https://TheCloutySkies.github.io/bloggyskies/media/posts/2/responsive/20220915_200018_44DF1F-lg.jpeg 1024w, https://TheCloutySkies.github.io/bloggyskies/media/posts/2/responsive/20220915_200018_44DF1F-xl.jpeg 1360w, https://TheCloutySkies.github.io/bloggyskies/media/posts/2/responsive/20220915_200018_44DF1F-2xl.jpeg 1600w"></figure><p>¬†</p><p>2020. I was a sophomore in high school when the pandemic hit us. My friends and I initially were so excited to be out of school early. The first two weeks or so were awesome; video games, Discord calls, and making plans for YouTube videos and overly ambitious films. It all served as a distraction from the real world consequences of the pandemic. We spent the summer of 2020 hanging out, trying to execute our video plans, and other teenager tomfoolery. When weeks became months and the pandemic restrictions still didn‚Äôt seem to be lifting, the more it felt to us that maybe the world really was ending. So naturally as dramatic teenagers we decided the best course of action was venturing into the woods, which we started doing in early 2021 after school.</p><div class="gallery-wrapper"><div class="gallery" data-is-empty="false" data-translation="Add images" data-columns="2"><figure class="gallery__item"><a href="https://TheCloutySkies.github.io/bloggyskies/media/posts/2/gallery/IMG_0793.jpeg" data-size="6000x4000"><img loading="lazy" src="https://TheCloutySkies.github.io/bloggyskies/media/posts/2/gallery/IMG_0793-thumbnail.jpeg" alt="" width="720" height="480"></a></figure><figure class="gallery__item"><a href="https://TheCloutySkies.github.io/bloggyskies/media/posts/2/gallery/IMG_0795.jpeg" data-size="6000x4000"><img loading="lazy" src="https://TheCloutySkies.github.io/bloggyskies/media/posts/2/gallery/IMG_0795-thumbnail.jpeg" alt="" width="720" height="480"></a></figure><figure class="gallery__item"><a href="https://TheCloutySkies.github.io/bloggyskies/media/posts/2/gallery/IMG_0796.jpeg" data-size="6000x4000"><img loading="lazy" src="https://TheCloutySkies.github.io/bloggyskies/media/posts/2/gallery/IMG_0796-thumbnail.jpeg" alt="" width="720" height="480"></a></figure><figure class="gallery__item"><a href="https://TheCloutySkies.github.io/bloggyskies/media/posts/2/gallery/IMG_0797.jpeg" data-size="6000x4000"><img loading="lazy" src="https://TheCloutySkies.github.io/bloggyskies/media/posts/2/gallery/IMG_0797-thumbnail.jpeg" alt="" width="720" height="480"></a></figure><figure class="gallery__item"><a href="https://TheCloutySkies.github.io/bloggyskies/media/posts/2/gallery/IMG_0798.jpeg" data-size="6000x4000"><img loading="lazy" src="https://TheCloutySkies.github.io/bloggyskies/media/posts/2/gallery/IMG_0798-thumbnail.jpeg" alt="" width="720" height="480"></a></figure></div></div><p>The above photos were taken on July 31, 2021, this version of the Outpost took about 5-6 months of intermittent construction using pallets, cinder blocks, tarps, sheet metal, vinyl siding and anything else we could get our hands on.</p><div class="gallery-wrapper"><div class="gallery" data-is-empty="false" data-translation="Add images" data-columns="2"><figure class="gallery__item"><a href="https://TheCloutySkies.github.io/bloggyskies/media/posts/2/gallery/20230429_212728_4792D8.jpeg" data-size="1512x2016"><img loading="lazy" src="https://TheCloutySkies.github.io/bloggyskies/media/posts/2/gallery/20230429_212728_4792D8-thumbnail.jpeg" alt="" width="720" height="960"></a></figure><figure class="gallery__item"><a href="https://TheCloutySkies.github.io/bloggyskies/media/posts/2/gallery/F5F2A84A-45D9-4D23-9066-0A6BC4B4D922.jpeg" data-size="744x992"><img loading="lazy" src="https://TheCloutySkies.github.io/bloggyskies/media/posts/2/gallery/F5F2A84A-45D9-4D23-9066-0A6BC4B4D922-thumbnail.jpeg" alt="" width="720" height="960"></a></figure></div></div><p></p><p>The Outpost could fit about 8 people with gear. In the beginnings we didn‚Äôt have a lot inside just some food, water, fire making supplies, and extra bedding for overnight stays. A buddy of ours had some extra flooring from a recent home renovation which we used by nailing into our uneven pallet floor. Another essential purchase we made was a propane space heater, we were able to sleep surprisingly comfortably during below freezing temperatures in the winter. Eventually we added a fireplace (which only blew smoke into the room with no heat), a porch, small outdoor gym, a fence, parking spots, a running sink, and cardboard insulation.</p><p>Our parents had various names for the place, Hobo Hut, The Shelter, The Cabin in the Woods, a campsite. To us though, this was a home away from home. Something that felt truly ours in a world that felt so eager to control us in these pivotal years of our emerging lives. Some of my best memories with my best friends happened in that couple of wooded acres.</p><p>I don't want to fill this post with many regrets but I do wish we make more of an effort to write in our Outpost journal. Intermittently we would remember that it existed and we would assign someone to make a short entry. Subjects would range from improvements, skinwalker encounters, to reminiscing on the good ole days. Luckily I was able to get my homie to send pictures of all the pages and I transcribed them here for anyone to read. The inner cover contained a small database of everyone's birthday and this quote which truly summed out how we felt about the place,¬†</p><blockquote><p class="p1">‚ÄúA beacon of hope and imagination. A creative outlet for all of us. A place to feel safe and a place where we all belong.‚Äù</p></blockquote><p>From there we have various entries spanning several years.</p><hr><h5 class="p1">4-27-2022</h5><blockquote><p class="p1">Sitting at this table, makes me reminisce about the old days. When everyone was accountable, and I never felt alone. This place was a safe-haven in the summer. But those days are gone in this place feels like a graveyard of drifting memories.</p></blockquote><h5 class="p1">5-12-2022</h5><blockquote><p class="p1">Today is the hottest day of the year so far. Progress needs to be made for the expansion of the outpost. I long for the days of old when progress was always happening. Memento Mori.</p></blockquote><h5 class="p1">5-25-2022</h5><blockquote><p class="p1">A decently productive day we officially started sparring for our tournament on May 9th/13th, 2023. The skin walkers are getting worse. We attempted to make contact today, it was a partial success. We will need to experiment more. Combat skills need to be improved before we make initial contact.</p></blockquote><h5 class="p1">6-1-2022</h5><blockquote><p class="p1">War has been waged some goofy goobers have decided to vandalize home. The ‚Äúmoon‚Äòs out goons out‚Äù phase has been initiated for the outpost. Offensive and defensive measures have been taken.</p></blockquote><h5 class="p1">8-2-2022</h5><blockquote><p class="p1">Happy birthday, Griffin!</p></blockquote><h5 class="p1">9-1-2022</h5><blockquote><p class="p1">The friend group is separating, the intervals between visits are lengthening. The outpost survived a storm with 80 mile an hour plus winds. Brent‚Äòs hair looks fire. We need to come out here more often to keep home healthy.</p></blockquote><h5 class="p1">10-14-2022</h5><blockquote><p class="p1">Today was productive. The whole is about halfway done. We trekked up to the ridge at night. Noises all around the leaves are falling. The night was cold, but we survived.</p></blockquote><h5 class="p1">10-20-2022</h5><blockquote><p class="p1">First day back of the outpost in about three months, I‚Äôve missed this place so much and now I am back! I feel at home. The sounds of the leaves and the birds chirping in the distance or sounds that I‚Äôve been lying to hear. It‚Äôs great to be back.</p></blockquote><h5 class="p1">3-17-2024</h5><blockquote><p class="p1">Life moves fast, no matter how long we are gone, this place still feels like home. To be honest, not a lot of progress has been made in the last year. The outpost has been serving more as a safe place to isolate from the world. <strong>You don‚Äôt have to think about tomorrow here.</strong></p></blockquote><h3 class="p1">5-9-2025</h3><blockquote><p class="p1">I am the only one here, the outpost is in ruins. Several walls have been breached from what seems to be raccoons. I am writing in pencil because the pen has been chewed through. I don‚Äôt think I can possibly clean and fix all of this, but I can try. Everything is strung out chewed through ruined or pooped on. All good things come to an end. All things come to an end even dreams. I‚Äôm going to miss this place.</p></blockquote><p>¬†</p><p></p><p>From what I heard from my friends now is that the Outpost is in a sad state of disarray. There‚Äôs holes in the tarps and animals have found there way in and I know that eventually the nature around will reclaim the land we once borrowed for those few wonderful summers.</p><p></p></div><footer class="post__inner post__footer"><p class="post__last-updated">This article was updated on January 20, 2026</p><div class="post__share-tag-container"><div class="post__share"><button class="post__share-button js-post__share-button icon" aria-label="Share button"><i class="fas fa-share-alt"></i></button><div class="post__share-popup js-post__share-popup"><a href="https://www.facebook.com/sharer/sharer.php?u=https%3A%2F%2FTheCloutySkies.github.io%2Fbloggyskies%2Fa-second-home.html" class="js-share icon brands fa-facebook-f" rel="nofollow noopener noreferrer"><span class="label">Facebook</span> </a><a href="https://twitter.com/intent/tweet?url=https%3A%2F%2FTheCloutySkies.github.io%2Fbloggyskies%2Fa-second-home.html&amp;via=%40cloutyskies&amp;text=A%20Second%20Home" class="js-share icon brands fa-x-twitter" rel="nofollow noopener noreferrer"><span class="label">Twitter</span></a></div></div></div><div class="post__bio"><div><h3><a href="https://TheCloutySkies.github.io/bloggyskies/authors/lonnie-johnston/" class="invert" rel="author">Lonnie Johnston</a></h3></div></div></footer></article></main><footer id="copyright"><ul><li>¬© Massively</li><li>Design: <a href="https://html5up.net" target="_blank" rel="nofollow noopener">HTML5 UP</a></li><li>Powered by Publii</li></ul></footer></div><script src="https://TheCloutySkies.github.io/bloggyskies/assets/js/jquery.min.js?v=c9771cc3e90e18f5336eedbd0fffb2cf"></script><script src="https://TheCloutySkies.github.io/bloggyskies/assets/js/jquery.scrollex.min.js?v=f89065e3d988006af9791b44561d7c90"></script><script src="https://TheCloutySkies.github.io/bloggyskies/assets/js/jquery.scrolly.min.js?v=1ed5a78bde1476875a40f6b9ff44fc14"></script><script src="https://TheCloutySkies.github.io/bloggyskies/assets/js/browser.min.js?v=c07298dd19048a8a69ad97e754dfe8d0"></script><script src="https://TheCloutySkies.github.io/bloggyskies/assets/js/breakpoints.min.js?v=81a479eb099e3b187613943b085923b8"></script><script src="https://TheCloutySkies.github.io/bloggyskies/assets/js/util.min.js?v=4201a626f8c9b614a663b3a1d7d82615"></script><script src="https://TheCloutySkies.github.io/bloggyskies/assets/js/main.min.js?v=56233c354bd814758be8bff42f7e13a5"></script><script>/*<![CDATA[*/var images=document.querySelectorAll("img[loading]");for(var i=0;i<images.length;i++){if(images[i].complete){images[i].classList.add("is-loaded")}else{images[i].addEventListener("load",function(){this.classList.add("is-loaded")},false)}};/*]]>*/</script><div class="pcb" data-behaviour="badge" data-behaviour-link="#cookie-settings" data-revision="1" data-config-ttl="90" data-debug-mode="false"><div role="dialog" aria-modal="true" aria-hidden="true" aria-labelledby="pcb-title" aria-describedby="pcb-txt" class="pcb__banner"><div class="pcb__inner"><div id="pcb-title" role="heading" aria-level="2" class="pcb__title">This website uses cookies</div><div id="pcb-txt" class="pcb__txt">Opt out for your convenience. I don't know how to use them anyway.</div><div class="pcb__buttons"><button type="button" class="pcb__btn pcb__btn--solid pcb__btn--accept">Accept all (Don't Click)</button></div></div></div><button class="pcb__badge" aria-label="Cookie Policy" aria-hidden="true"><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" width="40" height="40" viewBox="0 0 23 23" fill="currentColor"><path d="M21.41 12.71c-.08-.01-.15 0-.22 0h-.03c-.03 0-.05 0-.08.01-.07 0-.13.01-.19.04-.52.21-1.44.19-2.02-.22-.44-.31-.65-.83-.62-1.53a.758.758 0 0 0-.27-.61.73.73 0 0 0-.65-.14c-1.98.51-3.49.23-4.26-.78-.82-1.08-.73-2.89.24-4.49.14-.23.14-.52 0-.75a.756.756 0 0 0-.67-.36c-.64.03-1.11-.1-1.31-.35-.19-.26-.13-.71-.01-1.29.04-.18.06-.38.03-.59-.05-.4-.4-.7-.81-.66C5.1 1.54 1 6.04 1 11.48 1 17.28 5.75 22 11.6 22c5.02 0 9.39-3.54 10.39-8.42.08-.4-.18-.78-.58-.87Zm-9.81 7.82c-5.03 0-9.12-4.06-9.12-9.06 0-4.34 3.05-8 7.25-8.86-.08.7.05 1.33.42 1.81.24.32.66.67 1.38.84-.76 1.86-.65 3.78.36 5.11.61.81 2.03 2 4.95 1.51.18.96.71 1.54 1.18 1.87.62.43 1.38.62 2.1.62.05 0 .09 0 .13-.01-1.23 3.64-4.7 6.18-8.64 6.18ZM13 17c0 .55-.45 1-1 1s-1-.45-1-1 .45-1 1-1 1 .45 1 1Zm5.29-12.3a.99.99 0 0 1-.29-.71c0-.55.45-.99 1-.99a1 1 0 0 1 .71.3c.19.19.29.44.29.71 0 .55-.45.99-1 .99a1 1 0 0 1-.71-.3ZM9 13.5c0 .83-.67 1.5-1.5 1.5S6 14.33 6 13.5 6.67 12 7.5 12s1.5.67 1.5 1.5Zm3.25.81a.744.744 0 0 1-.06-1.05c.28-.32.75-.34 1.05-.06.31.28.33.75.05 1.06-.15.16-.35.25-.56.25-.18 0-.36-.06-.5-.19ZM8.68 7.26c.41.37.44 1 .07 1.41-.2.22-.47.33-.75.33a.96.96 0 0 1-.67-.26c-.41-.37-.44-1-.07-1.41.37-.42 1-.45 1.41-.08Zm11.48 1.88c.18-.19.52-.19.7 0 .05.04.09.1.11.16.03.06.04.12.04.19 0 .13-.05.26-.15.35-.09.1-.22.15-.35.15s-.26-.05-.35-.15a.355.355 0 0 1-.11-.16.433.433 0 0 1-.04-.19c0-.13.05-.26.15-.35Zm-4.93-1.86a.75.75 0 1 1 1.059-1.06.75.75 0 0 1-1.059 1.06Z"/></svg></button></div><script>(function(win) {
    if (!document.querySelector('.pcb')) {
        return;
    }

    var cbConfig = {
        behaviour: document.querySelector('.pcb').getAttribute('data-behaviour'),
        behaviourLink: document.querySelector('.pcb').getAttribute('data-behaviour-link'),
        revision: document.querySelector('.pcb').getAttribute('data-revision'),
        configTTL: parseInt(document.querySelector('.pcb').getAttribute('data-config-ttl'), 10),
        debugMode: document.querySelector('.pcb').getAttribute('data-debug-mode') === 'true',
        initialState: null,
        initialLsState: null,
        previouslyAccepted: []
    };

    var cbUI = {
        wrapper: document.querySelector('.pcb'),
        banner: {
            element: null,
            btnAccept: null,
            btnReject: null,
            btnConfigure: null
        },
        popup: {
            element: null,
            btnClose: null,
            btnSave: null,
            btnAccept: null,
            btnReject: null,
            checkboxes: null,
        },
        overlay: null,
        badge: null,
        blockedScripts: document.querySelectorAll('script[type^="gdpr-blocker/"]'),
        triggerLinks: cbConfig.behaviourLink ? document.querySelectorAll('a[href*="' + cbConfig.behaviourLink + '"]') : null
    };

    function initUI () {
        // setup banner elements
        cbUI.banner.element = cbUI.wrapper.querySelector('.pcb__banner');
        cbUI.banner.btnAccept = cbUI.banner.element.querySelector('.pcb__btn--accept');
        cbUI.banner.btnReject = cbUI.banner.element.querySelector('.pcb__btn--reject');
        cbUI.banner.btnConfigure = cbUI.banner.element.querySelector('.pcb__btn--configure');

        // setup popup elements
        if (cbUI.wrapper.querySelector('.pcb__popup')) {
            cbUI.popup.element = cbUI.wrapper.querySelector('.pcb__popup');
            cbUI.popup.btnClose = cbUI.wrapper.querySelector('.pcb__popup__close');
            cbUI.popup.btnSave = cbUI.popup.element.querySelector('.pcb__btn--save');
            cbUI.popup.btnAccept = cbUI.popup.element.querySelector('.pcb__btn--accept');
            cbUI.popup.btnReject = cbUI.popup.element.querySelector('.pcb__btn--reject');
            cbUI.popup.checkboxes = cbUI.popup.element.querySelector('input[type="checkbox"]');
            // setup overlay
            cbUI.overlay = cbUI.wrapper.querySelector('.pcb__overlay');
        }

        cbUI.badge = cbUI.wrapper.querySelector('.pcb__badge');

        if (cbConfig.behaviour.indexOf('link') > -1) {
            for (var i = 0; i < cbUI.triggerLinks.length; i++) {
                cbUI.triggerLinks[i].addEventListener('click', function(e) {
                    e.preventDefault();
                    showBannerOrPopup();
                });
            }
        }
    }

    function initState () {
        var lsKeyName = getConfigName();
        var currentConfig = localStorage.getItem(lsKeyName);
        var configIsFresh = checkIfConfigIsFresh();

        if (!configIsFresh || currentConfig === null) {
            if (cbConfig.debugMode) {
                console.log('üç™ Config not found, or configuration expired');
            }

            if (window.publiiCBGCM) {
                gtag('consent', 'default', {
                    'ad_storage': window.publiiCBGCM.defaultState.ad_storage ? 'granted' : 'denied',
                    'ad_personalization': window.publiiCBGCM.defaultState.ad_personalization ? 'granted' : 'denied',
                    'ad_user_data': window.publiiCBGCM.defaultState.ad_user_data ? 'granted' : 'denied',
                    'analytics_storage': window.publiiCBGCM.defaultState.analytics_storage ? 'granted' : 'denied',
                    'personalization_storage': window.publiiCBGCM.defaultState.personalization_storage ? 'granted' : 'denied',
                    'functionality_storage': window.publiiCBGCM.defaultState.functionality_storage ? 'granted' : 'denied',
                    'security_storage': window.publiiCBGCM.defaultState.security_storage ? 'granted' : 'denied'
                });  
                
                if (cbConfig.debugMode) {
                    console.log('üç™ GCMv2 DEFAULT STATE: ' + JSON.stringify({
                        'ad_storage': window.publiiCBGCM.defaultState.ad_storage ? 'granted' : 'denied',
                        'ad_personalization': window.publiiCBGCM.defaultState.ad_personalization ? 'granted' : 'denied',
                        'ad_user_data': window.publiiCBGCM.defaultState.ad_user_data ? 'granted' : 'denied',
                        'analytics_storage': window.publiiCBGCM.defaultState.analytics_storage ? 'granted' : 'denied',
                        'personalization_storage': window.publiiCBGCM.defaultState.personalization_storage ? 'granted' : 'denied',
                        'functionality_storage': window.publiiCBGCM.defaultState.functionality_storage ? 'granted' : 'denied',
                        'security_storage': window.publiiCBGCM.defaultState.security_storage ? 'granted' : 'denied'
                    }));
                }
            }

            showBanner();
        } else if (typeof currentConfig === 'string') {
            if (cbConfig.debugMode) {
                console.log('üç™ Config founded');
            }

            cbConfig.initialLsState = currentConfig.split(',');

            if (window.publiiCBGCM) {
                gtag('consent', 'default', {
                    'ad_storage': getDefaultConsentState(currentConfig, 'ad_storage'),
                    'ad_personalization': getDefaultConsentState(currentConfig, 'ad_personalization'),
                    'ad_user_data': getDefaultConsentState(currentConfig, 'ad_user_data'),
                    'analytics_storage': getDefaultConsentState(currentConfig, 'analytics_storage'),
                    'personalization_storage': getDefaultConsentState(currentConfig, 'personalization_storage'),
                    'functionality_storage': getDefaultConsentState(currentConfig, 'functionality_storage'),
                    'security_storage': getDefaultConsentState(currentConfig, 'security_storage')
                });
                
                if (cbConfig.debugMode) {
                    console.log('üç™ GCMv2 DEFAULT STATE: ' + JSON.stringify({
                        'ad_storage': getDefaultConsentState(currentConfig, 'ad_storage'),
                        'ad_personalization': getDefaultConsentState(currentConfig, 'ad_personalization'),
                        'ad_user_data': getDefaultConsentState(currentConfig, 'ad_user_data'),
                        'analytics_storage': getDefaultConsentState(currentConfig, 'analytics_storage'),
                        'personalization_storage': getDefaultConsentState(currentConfig, 'personalization_storage'),
                        'functionality_storage': getDefaultConsentState(currentConfig, 'functionality_storage'),
                        'security_storage': getDefaultConsentState(currentConfig, 'security_storage')
                    }));
                }
            }

            showBadge();

            if (cbUI.popup.element) {
                var allowedGroups = currentConfig.split(',');
                var checkedCheckboxes = cbUI.popup.element.querySelectorAll('input[type="checkbox"]:checked');

                for (var j = 0; j < checkedCheckboxes.length; j++) {
                    var name = checkedCheckboxes[j].getAttribute('data-group-name');

                    if (name && name !== '-' && allowedGroups.indexOf(name) === -1) {
                        checkedCheckboxes[j].checked = false;
                    }
                }

                for (var i = 0; i < allowedGroups.length; i++) {
                    var checkbox = cbUI.popup.element.querySelector('input[type="checkbox"][data-group-name="' + allowedGroups[i] + '"]');

                    if (checkbox) {
                        checkbox.checked = true;
                    }

                    allowCookieGroup(allowedGroups[i]);
                }
            }
        }

        setTimeout(function () {
            cbConfig.initialState = getInitialStateOfConsents();
        }, 0);
    }

    function checkIfConfigIsFresh () {
        var lastConfigSave = localStorage.getItem('publii-gdpr-cookies-config-save-date');

        if (lastConfigSave === null) {
            return false;
        }

        lastConfigSave = parseInt(lastConfigSave, 10);

        if (lastConfigSave === 0) {
            return true;
        }

        if (+new Date() - lastConfigSave < cbConfig.configTTL * 24 * 60 * 60 * 1000) {
            return true;
        }

        return false;
    }

    function getDefaultConsentState (currentConfig, consentGroup) {
        let configGroups = currentConfig.split(',');

        for (let i = 0; i < configGroups.length; i++) {
            let groupName = configGroups[i];
            let group = window.publiiCBGCM.groups.find(group => group.cookieGroup === groupName);

            if (group && group[consentGroup]) {
                return 'granted';
            }
        }  
        
        if (window.publiiCBGCM.defaultState[consentGroup]) {
            return 'granted'; 
        }
        
        return 'denied';
    }

    function initBannerEvents () {
        cbUI.banner.btnAccept.addEventListener('click', function (e) {
            e.preventDefault();
            acceptAllCookies('banner');
            showBadge();
        }, false);

        if (cbUI.banner.btnReject) {
            cbUI.banner.btnReject.addEventListener('click', function (e) {
                e.preventDefault();
                rejectAllCookies();
                showBadge();
            }, false);
        }

        if (cbUI.banner.btnConfigure) {
            cbUI.banner.btnConfigure.addEventListener('click', function (e) {
                e.preventDefault();
                hideBanner();
                showAdvancedPopup();
                showBadge();
            }, false);
        }
    }

    function initPopupEvents () {
        if (!cbUI.popup.element) {
            return;
        }

        cbUI.overlay.addEventListener('click', function (e) {
            hideAdvancedPopup();
        }, false);

        cbUI.popup.element.addEventListener('click', function (e) {
            e.stopPropagation();
        }, false);

        cbUI.popup.btnAccept.addEventListener('click', function (e) {
            e.preventDefault();
            acceptAllCookies('popup');
        }, false);

        cbUI.popup.btnReject.addEventListener('click', function (e) {
            e.preventDefault();
            rejectAllCookies();
        }, false);

        cbUI.popup.btnSave.addEventListener('click', function (e) {
            e.preventDefault();
            saveConfiguration();
        }, false);

        cbUI.popup.btnClose.addEventListener('click', function (e) {
            e.preventDefault();
            hideAdvancedPopup();
        }, false);
    }

    function initBadgeEvents () {
        if (!cbUI.badge) {
            return;
        }

        cbUI.badge.addEventListener('click', function (e) {
            showBannerOrPopup();
        }, false);
    }

    initUI();
    initState();
    initBannerEvents();
    initPopupEvents();
    initBadgeEvents();

    /**
     * API
     */
    function addScript (src, inline) {
        var newScript = document.createElement('script');

        if (src) {
            newScript.setAttribute('src', src);
        }

        if (inline) {
            newScript.text = inline;
        }

        document.body.appendChild(newScript);
    }

    function allowCookieGroup (allowedGroup) {
        var scripts = document.querySelectorAll('script[type="gdpr-blocker/' + allowedGroup + '"]');
        cbConfig.previouslyAccepted.push(allowedGroup);
    
        for (var j = 0; j < scripts.length; j++) {
            addScript(scripts[j].src, scripts[j].text);
        }

        var groupEvent = new Event('publii-cookie-banner-unblock-' + allowedGroup);
        document.body.dispatchEvent(groupEvent);
        unlockEmbeds(allowedGroup);

        if (cbConfig.debugMode) {
            console.log('üç™ Allowed group: ' + allowedGroup);
        }

        if (window.publiiCBGCM && (!cbConfig.initialLsState || cbConfig.initialLsState.indexOf(allowedGroup) === -1)) {
            let consentResult = {};
            let group = window.publiiCBGCM.groups.find(group => group.cookieGroup === allowedGroup);

            if (group) {
                let foundSomeConsents = false;

                Object.keys(group).forEach(key => {
                    if (key !== 'cookieGroup' && group[key] === true) {
                        consentResult[key] = 'granted';
                        foundSomeConsents = true;
                    }
                });

                if (foundSomeConsents) {
                    gtag('consent', 'update', consentResult);   

                    if (cbConfig.debugMode) {
                        console.log('üç™ GCMv2 UPDATE: ' + JSON.stringify(consentResult));
                    }
                }
            }
        }
    }

    function showBannerOrPopup () {
        if (cbUI.popup.element) {
            showAdvancedPopup();
        } else {
            showBanner();
        }
    }

    function showAdvancedPopup () {
        cbUI.popup.element.classList.add('is-visible');
        cbUI.overlay.classList.add('is-visible');
        cbUI.popup.element.setAttribute('aria-hidden', 'false');
        cbUI.overlay.setAttribute('aria-hidden', 'false');
    }

    function hideAdvancedPopup () {
        cbUI.popup.element.classList.remove('is-visible');
        cbUI.overlay.classList.remove('is-visible');
        cbUI.popup.element.setAttribute('aria-hidden', 'true');
        cbUI.overlay.setAttribute('aria-hidden', 'true');
    }

    function showBanner () {
        cbUI.banner.element.classList.add('is-visible');
        cbUI.banner.element.setAttribute('aria-hidden', 'false');
    }

    function hideBanner () {
        cbUI.banner.element.classList.remove('is-visible');
        cbUI.banner.element.setAttribute('aria-hidden', 'true');
    }

    function showBadge () {
        if (!cbUI.badge) {
            return;
        }

        cbUI.badge.classList.add('is-visible');
        cbUI.badge.setAttribute('aria-hidden', 'false');
    }

    function getConfigName () {
        var lsKeyName = 'publii-gdpr-allowed-cookies';

        if (cbConfig.revision) {
            lsKeyName = lsKeyName + '-v' + parseInt(cbConfig.revision, 10);
        }

        return lsKeyName;
    }

    function storeConfiguration (allowedGroups) {
        var lsKeyName = getConfigName();
        var dataToStore = allowedGroups.join(',');
        localStorage.setItem(lsKeyName, dataToStore);

        if (cbConfig.configTTL === 0) {
            localStorage.setItem('publii-gdpr-cookies-config-save-date', 0);

            if (cbConfig.debugMode) {
                console.log('üç™ Store never expiring configuration');
            }
        } else {
            localStorage.setItem('publii-gdpr-cookies-config-save-date', +new Date());
        }
    }

    function getInitialStateOfConsents () {
        if (!cbUI.popup.element) {
            return [];
        }

        var checkedGroups = cbUI.popup.element.querySelectorAll('input[type="checkbox"]:checked');
        var groups = [];

        for (var i = 0; i < checkedGroups.length; i++) {
            var allowedGroup = checkedGroups[i].getAttribute('data-group-name');

            if (allowedGroup !== '') {
                groups.push(allowedGroup);
            }
        }

        if (cbConfig.debugMode) {
            console.log('üç™ Initial state: ' + groups.join(', '));
        }

        return groups;
    }

    function getCurrentStateOfConsents () {
        if (!cbUI.popup.element) {
            return [];
        }

        var checkedGroups = cbUI.popup.element.querySelectorAll('input[type="checkbox"]:checked');
        var groups = [];

        for (var i = 0; i < checkedGroups.length; i++) {
            var allowedGroup = checkedGroups[i].getAttribute('data-group-name');

            if (allowedGroup !== '') {
                groups.push(allowedGroup);
            }
        }

        if (cbConfig.debugMode) {
            console.log('üç™ State to save: ' + groups.join(', '));
        }

        return groups;
    }

    function getAllGroups () {
        if (!cbUI.popup.element) {
            return [];
        }

        var checkedGroups = cbUI.popup.element.querySelectorAll('input[type="checkbox"]');
        var groups = [];

        for (var i = 0; i < checkedGroups.length; i++) {
            var allowedGroup = checkedGroups[i].getAttribute('data-group-name');

            if (allowedGroup !== '') {
                groups.push(allowedGroup);
            }
        }

        return groups;
    }

    function acceptAllCookies (source) {
        var groupsToAccept = getAllGroups();
        storeConfiguration(groupsToAccept);

        for (var i = 0; i < groupsToAccept.length; i++) {
            var group = groupsToAccept[i];

            if (cbConfig.initialState.indexOf(group) > -1 || cbConfig.previouslyAccepted.indexOf(group) > -1) {
                if (cbConfig.debugMode) {
                    console.log('üç™ Skip previously activated group: ' + group);
                }

                continue;
            }

            allowCookieGroup(group);
        }

        if (cbUI.popup.element) {
            var checkboxesToCheck = cbUI.popup.element.querySelectorAll('input[type="checkbox"]');

            for (var j = 0; j < checkboxesToCheck.length; j++) {
                checkboxesToCheck[j].checked = true;
            }
        }

        if (cbConfig.debugMode) {
            console.log('üç™ Accept all cookies: ', groupsToAccept.join(', '));
        }

        if (source === 'popup') {
            hideAdvancedPopup();
        } else if (source === 'banner') {
            hideBanner();
        }
    }

    function rejectAllCookies () {
        if (cbConfig.debugMode) {
            console.log('üç™ Reject all cookies');
        }

        storeConfiguration([]);
        setTimeout(function () {
            window.location.reload();
        }, 100);
    }

    function saveConfiguration () {
        var groupsToAccept = getCurrentStateOfConsents();
        storeConfiguration(groupsToAccept);

        if (cbConfig.debugMode) {
            console.log('üç™ Save new config: ', groupsToAccept.join(', '));
        }

        if (reloadIsNeeded(groupsToAccept)) {
            setTimeout(function () {
                window.location.reload();
            }, 100);
            return;
        }

        for (var i = 0; i < groupsToAccept.length; i++) {
            var group = groupsToAccept[i];

            if (cbConfig.initialState.indexOf(group) > -1 || cbConfig.previouslyAccepted.indexOf(group) > -1) {
                if (cbConfig.debugMode) {
                    console.log('üç™ Skip previously activated group: ' + group);
                }

                continue;
            }

            allowCookieGroup(group);
        }

        hideAdvancedPopup();
    }

    function reloadIsNeeded (groupsToAccept) {
        // check if user rejected consent for initial groups
        var initialGroups = cbConfig.initialState;
        var previouslyAcceptedGroups = cbConfig.previouslyAccepted;
        var groupsToCheck = initialGroups.concat(previouslyAcceptedGroups);

        for (var i = 0; i < groupsToCheck.length; i++) {
            var groupToCheck = groupsToCheck[i];

            if (groupToCheck !== '' && groupsToAccept.indexOf(groupToCheck) === -1) {
                if (cbConfig.debugMode) {
                    console.log('üç™ Reload is needed due lack of: ', groupToCheck);
                }

                return true;
            }
        }

        return false;
    }

    function unlockEmbeds (cookieGroup) {
        var iframesToUnlock = document.querySelectorAll('.pec-wrapper[data-consent-group-id="' + cookieGroup + '"]');

        for (var i = 0; i < iframesToUnlock.length; i++) {
            var iframeWrapper = iframesToUnlock[i];
            iframeWrapper.querySelector('.pec-overlay').classList.remove('is-active');
            iframeWrapper.querySelector('.pec-overlay').setAttribute('aria-hidden', 'true');
            var iframe = iframeWrapper.querySelector('iframe');
            iframe.setAttribute('src', iframe.getAttribute('data-consent-src'));
        }
    }

    win.publiiEmbedConsentGiven = function (cookieGroup) {
        // it will unlock embeds
        allowCookieGroup(cookieGroup);

        var checkbox = cbUI.popup.element.querySelector('input[type="checkbox"][data-group-name="' + cookieGroup + '"]');

        if (checkbox) {
            checkbox.checked = true;
        }

        var groupsToAccept = getCurrentStateOfConsents();
        storeConfiguration(groupsToAccept);

        if (cbConfig.debugMode) {
            console.log('üç™ Save new config: ', groupsToAccept.join(', '));
        }
    }
})(window);</script></body></html>